import { ProcedureType } from '@trpc/server';
import { TRPCResponse } from '@trpc/server/rpc';
import { AbortControllerEsque, FetchEsque, RequestInitEsque, ResponseEsque } from '../../internals/types';
import { HTTPHeaders, PromiseAndCancel, TRPCClientRuntime } from '../types';
/**
 * @internal
 */
export interface HTTPLinkBaseOptions {
    url: string;
    /**
     * Add ponyfill for fetch
     */
    fetch?: FetchEsque;
    /**
     * Add ponyfill for AbortController
     */
    AbortController?: AbortControllerEsque | null;
}
export interface ResolvedHTTPLinkOptions {
    url: string;
    fetch: FetchEsque;
    AbortController: AbortControllerEsque | null;
}
export declare function resolveHTTPLinkOptions(opts: HTTPLinkBaseOptions): ResolvedHTTPLinkOptions;
export interface HTTPResult {
    json: TRPCResponse;
    meta: {
        response: ResponseEsque;
    };
}
declare type GetInputOptions = {
    runtime: TRPCClientRuntime;
} & ({
    inputs: unknown[];
} | {
    input: unknown;
});
export declare type HTTPBaseRequestOptions = ResolvedHTTPLinkOptions & GetInputOptions & {
    type: ProcedureType;
    path: string;
};
export declare type GetUrl = (opts: HTTPBaseRequestOptions) => string;
export declare type GetBody = (opts: HTTPBaseRequestOptions) => RequestInitEsque['body'];
export declare type ContentOptions = {
    contentTypeHeader?: string;
    getUrl: GetUrl;
    getBody: GetBody;
};
export declare const getUrl: GetUrl;
export declare const getBody: GetBody;
export declare type Requester = (opts: HTTPBaseRequestOptions & {
    headers: () => HTTPHeaders | Promise<HTTPHeaders>;
}) => PromiseAndCancel<HTTPResult>;
export declare const jsonHttpRequester: Requester;
export declare type HTTPRequestOptions = HTTPBaseRequestOptions & ContentOptions & {
    headers: () => HTTPHeaders | Promise<HTTPHeaders>;
};
export declare function httpRequest(opts: HTTPRequestOptions): PromiseAndCancel<HTTPResult>;
export {};
//# sourceMappingURL=httpUtils.d.ts.map